"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Lifter=function t(e){_classCallCheck(this,t);var i={base:"body",triggers:"[target=_popup]",preload:!0};Object.assign(i,e),this.base=document.querySelector(i.base);var s=this.base;if(this.triggers=document.querySelectorAll(i.triggers),this.base.classList.add("lifter-base"),this.triggers.forEach(function(t){t.classList.add("lifter-trigger")},this),i.preload!==!0){var a=document.createElement("aside");a.id="lifter-common",a.classList.add("lifter"),this.base.appendChild(a)}i.preload!==!1&&(i.preload===!0?this.preloads=this.triggers:this.preloads=document.querySelectorAll(i.preload),this.preloads.forEach(function(t){if(null===t.getAttribute("data-content")){var e=document.createElement("aside"),i=document.createElement("iframe");e.id="lifter-"+String(performance.now()).replace(".","_"),e.classList.add("lifter"),i.classList.add("lifter-content"),i.src=t.href,e.appendChild(i),s.appendChild(e),t.setAttribute("data-lifter","#"+e.id)}},this)),this.base.addEventListener("click",function(t){if(t.target.classList.contains("lifter-trigger")){t.preventDefault();var e=t.target,i=e.getAttribute("data-lifter");null===i&&(i="#lifter-common");var a=document.querySelector(i);if(e.classList.contains("lifter-sm")?a.classList.add("lifter-sm"):e.classList.contains("lifter-lg")&&a.classList.add("lifter-lg"),null!==e.getAttribute("data-width")&&(a.style.width=e.getAttribute("data-width")),null!==e.getAttribute("data-height")&&(a.style.height=e.getAttribute("data-height")),e.getAttribute("data-size")){var r=e.getAttribute("data-size").split("x");a.style.width=r[0]+"px",a.style.height=r[1]+"px"}if(null!==e.getAttribute("data-content"))a.innerHtml=document.querySelector(e.getAttribute("data-content")).innerHtml;else if(null===e.getAttribute("data-lifter")){var l=document.createElement("iframe");l.classList.add("lifter-content"),l.src=e.href,a.appendChild(l)}s.classList.add("lifting"),a.classList.add("lifted")}}),this.base.addEventListener("click",function(t){t.target.classList.contains("lifting")&&!function(){var t=s.querySelector(".lifted");"lifter-common"===t.id&&(t.innerHtml=""),t.classList.remove("lifted"),s.classList.remove("lifting"),setTimeout(function(){t.classList.remove("lifter-sm"),t.classList.remove("lifter-lg"),t.style.width="",t.style.height=""},350)}()})};