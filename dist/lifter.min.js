"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,s,a){return s&&t(e.prototype,s),a&&t(e,a),e}}(),Lifter=function(){function t(e){_classCallCheck(this,t);var s=this,a={triggers:"[target=_popup]",preload:!0};if(Object.assign(a,e),s.base=document.querySelector("body"),s.triggers=document.querySelectorAll(a.triggers),s.base.classList.add("lifter-base"),s.triggers.forEach(function(t){t.classList.add("lifter-trigger")},s),a.preload!==!0){var r=document.createElement("aside");r.id="lifter-common",r.classList.add("lifter"),s.base.appendChild(r)}a.preload!==!1&&(a.preload===!0?s.preloads=s.triggers:s.preloads=document.querySelectorAll(a.preload),s.preloads.forEach(function(t){if(null===t.getAttribute("data-content")){var e=document.createElement("aside"),a=document.createElement("iframe");e.id="lifter-"+String(performance.now()).replace(".","_"),e.classList.add("lifter"),a.classList.add("lifter-content"),a.src=t.href,e.appendChild(a),s.base.appendChild(e),t.setAttribute("data-lifter","#"+e.id)}})),s.base.addEventListener("click",function(t){if(t.target.classList.contains("lifter-trigger")){t.preventDefault();var e=t.target,a=e.getAttribute("data-lifter");null===a&&(a="#lifter-common");var r={target:a,classes:[],styles:{}};if(e.classList.contains("lifter-sm")?r.classes.push("lifter-sm"):e.classList.contains("lifter-lg")&&r.classes.push("lifter-lg"),null!==e.getAttribute("data-width")&&(r.styles.width=e.getAttribute("data-width")),null!==e.getAttribute("data-height")&&(r.styles.height=e.getAttribute("data-height")),e.getAttribute("data-size")){var i=e.getAttribute("data-size").split("|");r.styles.width=i[0],r.styles.height=i[1]}null!==e.getAttribute("data-content")?r.html=document.querySelector(e.getAttribute("data-content")).innerHtml:null===e.getAttribute("data-lifter")&&(r.src=e.href),s.lift(r)}}),s.base.addEventListener("click",function(t){t.target.classList.contains("lifting")&&s.lower()})}return _createClass(t,[{key:"lift",value:function(t){var e=this,s={target:"#lifter-common",html:null,src:null,classes:[],styles:{}};Object.assign(s,t);var a=document.querySelector(s.target);if(s.classes.forEach(function(t){a.classList.add(t)}),a.setAttribute("data-added-classes",s.classes.join(" ")),Object.keys(s.styles).forEach(function(t){var e=t.split("-"),r="";r=e.length>1?e[0].toLowerCase()+e.slice(1).map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join():t,a.style[r]=s.styles[t]}),null!==s.html)a.innerHtml=s.html;else if(null!==s.src){var r=document.createElement("iframe");r.classList.add("lifter-content"),r.src=trigger.href,a.appendChild(r)}else if("#lifter-common"===s.target)return!1;return e.base.classList.add("lifting"),a.classList.add("lifted"),a}},{key:"lower",value:function(){var t=this,e=t.base.querySelector(".lifted");"lifter-common"===e.id&&(e.innerHtml=""),e.classList.remove("lifted"),t.base.classList.remove("lifting"),setTimeout(function(){""!==e.getAttribute("data-added-classes").trim()&&e.getAttribute("data-added-classes").split(" ").forEach(function(t){e.classList.remove(t)}),e.setAttribute("style","")},350)}}]),t}();